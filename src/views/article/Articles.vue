<template>
  <lay-table
      id="id"
      :max-height="maxHeight5"
      :columns="columns5"
      :expand-index="1"
      :data-source="dataSource5"
      :checkbox="checkbox5" :page="page5"
      :default-toolbar="defaultToolbar5"
      :resize="true"
      :autoColsWidth="true"
      v-model:selected-keys="selectedKeys5"
      @row="rowClick5"
      @change="change555">
    <template v-slot:toolbar>
      <lay-button size="sm" type="primary"><router-link to="/articles/add">æ–°å¢</router-link></lay-button>
      <lay-button size="sm">åˆ é™¤</lay-button>
    </template>
    <template v-slot:name="{ row, column, rowIndex, columnIndex }"> {{ row.name }} </template>
    <template v-slot:name-title>ğŸ˜Š</template>
    <template v-slot:operator="{ row }">
      <lay-button size="xs">ä¿®æ”¹</lay-button>
      <lay-button size="xs" type="primary">åˆ é™¤</lay-button>
    </template>
  </lay-table>
</template>

<script>
import { ref, watch } from 'vue'
import Base from '@/views/public/Base.vue'
export default {
  extends: Base,
  setup() {

    const selectedKeys5 = ref(['1'])
    const checkbox5 = ref(true)
    const defaultToolbar5 = ref(['export','print','filter'])
    const maxHeight5 = ref('600px');

    const page5 = {
      total: 100,
      limit: 10,
      current: 1
    }

    const columns5 = ref([]);

    const change555 = function(page) {
      console.log(JSON.stringify(page));
    }

    setTimeout(() => {
      columns5.value = [
      {
        title: "åºå·",
        fixed: "left",
        type: "number",
        width: "50px",
      },
      {
        title:"å§“å",
        titleSlot: "name-title",
        customSlot:"name",
        key:"name",
      },
      {
        title:"å¹´é¾„",
        key:"age",
        ellipsisTooltip: true,
      },
      {
        title:"å¤‡æ³¨",
        key:"remark",
        ellipsisTooltip: true,
      }
      ,{
        title:"æ“ä½œ",
        width:"150px",
        fixed:"right",
        customSlot:"operator",
        key:"operator"
      }
    ]
    }, 100)

    const dataSource5 = [
      {id:"1", name:"å°æ˜", age:"18",remark: 'layui - vueï¼ˆè°éŸ³ï¼šç±» UI) æ˜¯ ä¸€ å¥— Vue 3.0 çš„ æ¡Œ é¢ ç«¯ ç»„ ä»¶ åº“.layui - vueï¼ˆè°éŸ³ï¼šç±» UI) æ˜¯ ä¸€ å¥— Vue 3.0 çš„ æ¡Œ é¢ ç«¯ ç»„ ä»¶ åº“.'},
      {id:"2", name:"å°çº¢", age:"20",remark: 'layui - vueï¼ˆè°éŸ³ï¼šç±» UI) æ˜¯ ä¸€ å¥— Vue 3.0 çš„ æ¡Œ é¢ ç«¯ ç»„ ä»¶ åº“.layui - vueï¼ˆè°éŸ³ï¼šç±» UI) æ˜¯ ä¸€ å¥— Vue 3.0 çš„ æ¡Œ é¢ ç«¯ ç»„ ä»¶ åº“.'},
      {id:"3", name:"å°åˆš", age:"20",remark: 'layui - vueï¼ˆè°éŸ³ï¼šç±» UI) æ˜¯ ä¸€ å¥— Vue 3.0 çš„ æ¡Œ é¢ ç«¯ ç»„ ä»¶ åº“.layui - vueï¼ˆè°éŸ³ï¼šç±» UI) æ˜¯ ä¸€ å¥— Vue 3.0 çš„ æ¡Œ é¢ ç«¯ ç»„ ä»¶ åº“.'},
      {id:"4", name:"å°æ", age:"20",remark: 'layui - vueï¼ˆè°éŸ³ï¼šç±» UI) æ˜¯ ä¸€ å¥— Vue 3.0 çš„ æ¡Œ é¢ ç«¯ ç»„ ä»¶ åº“.layui - vueï¼ˆè°éŸ³ï¼šç±» UI) æ˜¯ ä¸€ å¥— Vue 3.0 çš„ æ¡Œ é¢ ç«¯ ç»„ ä»¶ åº“.'},
      {id:"5", name:"å°æŸ", age:"20",remark: 'layui - vueï¼ˆè°éŸ³ï¼šç±» UI) æ˜¯ ä¸€ å¥— Vue 3.0 çš„ æ¡Œ é¢ ç«¯ ç»„ ä»¶ åº“.layui - vueï¼ˆè°éŸ³ï¼šç±» UI) æ˜¯ ä¸€ å¥— Vue 3.0 çš„ æ¡Œ é¢ ç«¯ ç»„ ä»¶ åº“.'},
      {id:"6", name:"å°å‰", age:"20",remark: 'layui - vueï¼ˆè°éŸ³ï¼šç±» UI) æ˜¯ ä¸€ å¥— Vue 3.0 çš„ æ¡Œ é¢ ç«¯ ç»„ ä»¶ åº“.layui - vueï¼ˆè°éŸ³ï¼šç±» UI) æ˜¯ ä¸€ å¥— Vue 3.0 çš„ æ¡Œ é¢ ç«¯ ç»„ ä»¶ åº“.'}
    ]

    const rowClick5 = function(data) {
      console.log(JSON.stringify(data))
    }

    const rowDoubleClick5 = function(data) {
      console.log(JSON.stringify(data))
    }

    watch(selectedKeys5, () => {
      console.log("å¤é€‰æ¡†ç›‘å¬:" + selectedKeys5.value);
    })

    return {
      columns5,
      dataSource5,
      selectedKeys5,
      checkbox5,
      defaultToolbar5,
      rowClick5,
      rowDoubleClick5,
      page5,
      change555
    }
  }
}
</script>
